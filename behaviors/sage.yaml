bundle:
  name: sage-behavior
  version: 1.4.0
  description: Strategic advisor with decision memory, evaluation, and context continuity

tools:
  # Core SAGE consultation tool
  - module: tool-sage
    source: git+https://github.com/michaeljabbour/amplifier-module-tool-sage@main
    config:
      mode: direct
      default_provider: gemini
      default_model: gemini-2.0-flash
      max_tokens: 4096
      auto_record_decisions: true

  # SAGE Evaluation tool (binary + rubric)
  - module: tool-sage-eval
    source: git+https://github.com/michaeljabbour/amplifier-module-tool-sage-eval@main
    config:
      default_provider: gemini
      default_model: gemini-2.0-flash
      default_threshold: 3.0

  # Decision memory for persistent decision tracking
  - module: decisionmemory
    source: git+https://github.com/michaeljabbour/amplifier-module-decisionmemory@main

  # RLM for code-aware consultations (optional)
  - module: tool-rlm
    source: local
    path: ~/dev/amplifier-rlm/modules/tool-rlm
    config:
      max_recursion_depth: 3
      max_llm_calls: 50
      default_provider: gemini

hooks:
  # Inject recent decisions into session context
  - module: hooks-decision-context
    source: git+https://github.com/michaeljabbour/amplifier-module-hooks-decision-context@main
    config:
      max_decisions: 5
      status_filter: active
      priority: 45

agents:
  include:
    - sage:agents/sage-consultant.md
    - sage:agents/sage-judge.md
    - sage:agents/sage-validator.md

context:
  include:
    - sage:context/sage-instructions.md
